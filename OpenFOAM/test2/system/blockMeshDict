/*--------------------------------*- C++ -*----------------------------------*\
| Axisymmetric wedge around Y-axis (circular faces normal to Y)               |
| Two blocks: Rin->Ri (inner), Ri->Ro (curtain).                              |
\*---------------------------------------------------------------------------*/

FoamFile
{
    version     2.0;
    format      ascii;
    class       dictionary;
    object      blockMeshDict;
}

scale 1;

// Geometry constants (hard-coded)
// Gap height: h = 0.2 m
// Radii: Rin = 1.0e-6 m, Ri = 0.9 m, Ro = 1.0 m
// Wedge total angle = 2 deg (alpha = 1 deg)
// cos(alpha)= 0.999390827, sin(alpha)= 0.034899496

vertices
(
    // r = Rin = 1e-6
    (0.000000999391 0.0  0.0000000348995)   // 0
    (0.000000999391 0.2  0.0000000348995)   // 1
    (0.000000999391 0.0 -0.0000000348995)   // 2
    (0.000000999391 0.2 -0.0000000348995)   // 3

    // r = Ri = 0.9
    (0.899451744000 0.0  0.031409546000)    // 4
    (0.899451744000 0.2  0.031409546000)    // 5
    (0.899451744000 0.0 -0.031409546000)    // 6
    (0.899451744000 0.2 -0.031409546000)    // 7

    // r = Ro = 1.0
    (0.999390827000 0.0  0.034899496000)    // 8
    (0.999390827000 0.2  0.034899496000)    // 9
    (0.999390827000 0.0 -0.034899496000)    // 10
    (0.999390827000 0.2 -0.034899496000)    // 11
);

edges
(
    arc 0  2 (0 0    0.000001)     // Rin, y=0
    arc 1  3 (0 0.2  0.000001)     // Rin, y=0.2

    arc 4  6 (0 0    0.9)          // Ri, y=0
    arc 5  7 (0 0.2  0.9)          // Ri, y=0.2

    arc 8 10 (0 0    1.0)          // Ro, y=0
    arc 9 11 (0 0.2  1.0)          // Ro, y=0.2
);

// Ny=48 in entrambi i blocchi (match sulla faccia condivisa a r=Ri)
blocks
(
    // Inner block: Rin -> Ri
    hex (0 4 6 2  1 5 7 3) (40 48 1)
        simpleGrading (1.0 2.0 1)

    // Outer block: Ri -> Ro
    hex (4 8 10 6  5 9 11 7) (72 48 1)
        simpleGrading (3.0 2.0 1)
);

boundary
(
    wedgeMin
    {
        type wedge;
        faces
        (
            (0 1 5 4)   // +theta plane, inner
            (4 5 9 8)   // +theta plane, outer
        );
    }
    wedgeMax
    {
        type wedge;
        faces
        (
            (2 6 7 3)   // -theta plane, inner
            (6 10 11 7) // -theta plane, outer
        );
    }

    ground   // y = 0
    {
        type wall;
        faces
        (
            (0 4 6 2)
            (4 8 10 6)
        );
    }
    top      // y = 0.2
    {
        type wall;
        faces
        (
            (1 3 7 5)
            (5 7 11 9)
        );
    }

    outerCyl
    {
        type wall;
        faces
        (
            (8 9 11 10)
        );
    }

    innerCyl
    {
        type symmetry;   // era symmetryPlane → non planare ⇒ errore
        faces
        (
            (0 2 3 1)
        );
    }

);

zones
(
    innerZone
    {
        type cellZone;
        cells (0);
    }
    curtainZone
    {
        type cellZone;
        cells (1);
    }
);

mergePatchPairs ();
